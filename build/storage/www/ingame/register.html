<!DOCTYPE html>
<html lang="en">
<head>
    <title>Darkspore Registration</title>
    <script type="text/javascript" src="js/json2.js"></script>
    <script type="text/javascript" src="js/eawebkit.js"></script>
    <script type="text/javascript" src="js/recapclient.js"></script>

    <script type="text/javascript" src="js/angular.js"></script>
    <script type="text/javascript" src="angular/app.js"></script>
    <script type="text/javascript" src="angular/app/registerCtrl.js"></script>

    <script type="text/javascript" src="angular/directive/dsbutton.js"></script>
    <script type="text/javascript" src="angular/directive/dscheckbox.js"></script>
    <link rel="stylesheet" type="text/css" href="css/dsbutton.css">
    <link rel="stylesheet" type="text/css" href="css/dscheckbox.css">

    <link rel="stylesheet" type="text/css" href="css/fonts.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <style type="text/css">
        .form-group {
            overflow: hidden;
            margin-bottom: 20px;
        }

        .form-group-button {
            padding: 0px 27px;
        }

        .form-input {
            width: 100%;
        }

        .term-service {
            color: #c9c9c9;
        }

        #signup-form {
            position: absolute;
            top: 50%;
            margin-top: -220px;
        }
    </style>
</head>
    <body>
        <div ng-app="darksporeApp" ng-controller="registerCtrl">
            <div class="body">
                <div class="fullscreen-window">
                    <img src="images/register_bg.png" class="fullscreen-background"/>
                    <div class="view">
                        <form method="POST" id="signup-form" ng-hide="isLoading">
                            <div class="form-group form-group-title">
                                <div class="title darkspore-font">Register</div>
                            </div>
                            <div class="form-group">
                                <p class="darkspore-font">Enter Username</p>
                                <div class="form-input-bg"><input type="text" class="form-input" name="name" id="name" ng-model="name" ng-style="{color: ((name.length > 6) ? 'yellow' : 'white')}"/></div>
                            </div>
                            <div class="form-group">
                                <p class="darkspore-font">Enter Email</p>
                                <div class="form-input-bg"><input type="email" class="form-input" name="email" id="email" ng-model="email"/></div>
                            </div>
                            <div class="form-group float">
                                <p class="darkspore-font">Select Avatar</p>
                                <div id="selected-avatar-div" ng-mouseup="showAvatarDialog = true">
                                    <img src="images/avatars/{{selectedAvatar.code}}.png"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <p class="darkspore-font">Enter Password</p>
                                <div class="form-input-bg"><input type="text" class="form-input password" name="password" id="password" ng-model="password"/></div>
                            </div>
                            <div class="form-group-tos">
                                <dscheckbox ng-model="agreeTerms">
                                    I understand & accept the <a href="#" class="term-service" onMouseUp="EAWebKit.openExternalBrowser('http://tos.ea.com/legalapp/WEBTERMS/us/en/PC/Darkspore')">Terms of service</a>
                                </dscheckbox>
                            </div>
                            <div class="form-group form-group-button">
                                <dsbutton title="Sign up" ng-click="register()"></dsbutton>
                            </div>
                        </form>
                        <div class="creating-account-view darkspore-font" id="creatingAccountView" ng-show="isLoading"><p>Creating account...</p></div>
                    </div>
                </div>
            </div>

            <div id="avatar-dialog" class="body modal" ng-show="showAvatarDialog">
                <div class="modal-window">
                    <img src="images/register_bg.png" class="fullscreen-background"/>
                    <div class="modal-title darkspore-font">Choose your avatar</div>
                    <div id="signup-select-avatar-form">
                        <div ng-repeat="avatar in avatarsById" ng-mouseup="selectAvatar(avatar)" ng-class="{selected:(avatar.id === selectedAvatar.id)}">
                            <img src="images/avatars/{{avatar.code}}.png"/>
                        </div>
                    </div>
                    <div class="form-group form-group-button">
                        <dsbutton title="Done" ng-click="showAvatarDialog = false"></dsbutton>
                    </div>
                </div>
            </div>

            <div id="message-dialog" class="body modal" ng-show="showMessageDialog">
                <div class="modal-window">
                    <img src="images/register_bg.png" class="fullscreen-background"/>
                    <div class="modal-title darkspore-font" id="modal-title">{{messageDialogTitle}}</div>
                    <div class="modal-message" id="message">{{messageDialogMessage}}</div>
                    <div class="form-group form-group-button">
                        <dsbutton title="Ok" ng-click="closeModal(closeWindowOnMessageClose)"></dsbutton>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
